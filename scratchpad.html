<!DOCTYPE html>
<html lang="en" dir="ltr">
        <head>
                <meta charset="utf-8">
                
                <title>d4s3</title>
                

                <link rel="stylesheet" href="static/css/main.css">
        </head>
        <body class="hack">
                <nav>
                        <a href="index.html">[ Home ]</a>
                        <a href="projects.html">[ Projects ]</a>
                        <a href="writeup.html">[ Write Ups ]</a>
                        <a href="scratchpad.html">[ scratchpad ]</a>
                </nav>
                
        <h1>Python One-Liners</h1>

<p>Takes a list of urls and formats them in markdown
<code>python -c &quot;import sys; from urllib.parse import urlsplit; print(&#39;&#39;.join([f\&quot;[{urlsplit(line.strip()).path.lstrip(&#39;/&#39;)}]({line.strip()})\n\&quot; for line in sys.stdin]))&quot;</code></p>

<h1>Strip everything except ascii from Text files</h1>

<p>A really quick way of doing this is to use <code>strings</code>. However this will strip whitespace characters.</p>

<p>If you need whitespace characters intact you can use this:</p>

<p><code>cat &lt;file&gt; | tr -d &quot;[:cntrl:]&quot; | iconv -c -f utf-8 -t ascii -</code></p>

<h1>wget spider</h1>

<p><code>wget --mirror --convert-links --page-requisites --adjust-extension &lt;site-url&gt;</code></p>

<ul>
<li><strong>--mirror</strong>:        make the download recursive</li>
<li><strong>--convert-links</strong>:     convert links to work offline ex. <code>./</code> instead of <code>/</code></li>
<li><strong>--page-requisites</strong>:   make sure to download js and css</li>
<li><strong>--adjust-extension</strong>:  append missing extensions (mostly for html)</li>
</ul>

<h3>WARC</h3>

<p>If I&#39;m crawling a site for an offline backup I probably need a zim file. Wget can&#39;t output a zim file but it can output a warc file which can be converted to a zim file using <a href="https://github.com/openzim/warc2zim">warc2zim</a></p>

<ul>
<li><strong>--warc-file=</strong>filename: enables warc export, standard output will also happen<br></li>
</ul>

<h3>Cross domain</h3>

<ul>
<li><strong>--span-hosts</strong>:         crawl cross domain links</li>
<li><strong>--domains</strong>:        make sure you only crawl the domains you want to (don&#39;t want to accidentally crawl the whole internet)</li>
</ul>

<h1>This is a different note</h1>

<h1>Netcat Webserver</h1>

<p><code>while true; do echo -e &quot;HTTP/1.1 200 OK\n\n&quot; $(cat index.html) | nc -lp 8080 -q 1; done</code></p>

<ul>
<li>&quot;<strong>HTTP/1.1 200 OK\n\n</strong>&quot; can be put in the html file. Just be sure to use <code>^M^M</code> instead of the literal <code>\n\n</code></li>
</ul>


        </body>
</html>